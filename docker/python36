FROM ubuntu:18.04

RUN apt-get update && apt-get install -y apt-utils

RUN apt-get update && apt-get install -y \
    ssh software-properties-common protobuf-compiler

RUN apt-get update && apt-get install -y python3-dev python3-pip
RUN apt-get update && apt-get install -y \
    python3-tk python3-pil python3-lxml \
    python3-setuptools python3-cryptography python3-openssl \
    python3-socks python3-venv

RUN pip3.6 install numpy>=1.18.1 pycocotools>=2.0.1

### JAVA 8 ###
# Required to run SPICE metric
# Newer versions will raise warnings regarding "reflective access"
RUN apt-get update && apt-get install -y openjdk-8-jdk
RUN java -version

### Clean-up ###
RUN apt-get clean

CMD bash
